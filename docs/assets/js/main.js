"use strict";let clickedID,foundCard,newArticle;const handleCard=t=>{t.stopPropagation(),clickedID=t.currentTarget.id;for(const t of data.board.list)for(const s of t.cards)s.id===clickedID&&(foundCard=s);newArticle=document.createElement("article"),newArticle.className="js-edit js-edit-close app-edit modal show",getMain.appendChild(newArticle),paintModal()},paintModal=()=>{const t=document.querySelector(".js-edit");let s="";s+='<section class="js-edit-modal modal-dialog modal-dialog-centered modal-lg">',s+='<div class="modal-content bg-light shadow border-0">',s+=" <form>",s+=' <div class="modal-header border-bottom-0">',s+='<h5 class="modal-title d-flex w-100">',s+='<span class="fas fa-columns mt-3 mr-2 text-muted"></span>',s+='<div class="w-100">',s+=`<input class="app-edit-title form-control mb-0 border-0" placeholder="Filtrar tarjetas" type="text" value="${foundCard.title}" />`,s+='<small class="app-edit-subtitle d-block mt-0 text-muted"> en la lista <strong>Por hacer</strong> </small>',s+="</div>",s+="</h5>",s+='<button type="button" class="js-edit-close close" data-dismiss="modal">',s+="<span>&times;</span>",s+="</button>",s+="</div>",s+=' <div class="modal-body">',s+='<div class="row">',s+='<div class="col-xl-9 col-8">',s+='<div class="container-fluid mb-4">',s+='<div class="row">',s+='<div class="col-1 pl-0 pr-0">',s+='<span class="fas fa-align-left text-muted"></span>',s+="</div>",s+='<div class="col-11 pl-0 pr-0">',s+='<h6 class="h6">Descripción</h6>',s+='<textarea class="app-edit-textarea">',s+=`"${foundCard.description}"`,s+="</textarea>",s+="</div>",s+="</div>",s+="</div>",s+='<div class="container-fluid mb-4">',s+='<div class="row">',s+='<div class="col-1 pl-0 pr-0">',s+='<span class="far fa-check-square text-muted"></span>',s+="</div>",s+='<div class="col-11 pl-0 pr-0">',s+='<h6 class="h6 mb-3">Subtareas: completadas 3 de 5</h6>',s+='<div class="app-edit-progress progress mb-3">',s+='<div class="progress-bar" style="width: 60%;"></div>',s+="</div>",s+='<div class="custom-control custom-checkbox mb-2">',s+='<input class="custom-control-input" type="checkbox" checked id="subtask-1" />',s+='<label class="custom-control-label" for="subtask-1">',s+="Unificar los eventos",s+="</label>",s+="</div>",s+='<div class="custom-control custom-checkbox mb-2">',s+='<input class="custom-control-input" type="checkbox" checked id="subtask-2" />',s+='<label class="custom-control-label" for="subtask-2">',s+="Unificar las clases de la cabecera",s+="</label>",s+="</div>",s+='<div class="custom-control custom-checkbox mb-2">',s+='<input class="custom-control-input" type="checkbox" id="subtask-3" />',s+='<label class="custom-control-label" for="subtask-3">',s+="Unificar las clases de las tarjetas",s+="</label>",s+="</div>",s+='<div class="custom-control custom-checkbox mb-2">',s+='<input class="custom-control-input" type="checkbox" checked id="subtask-4" />',s+='<label class="custom-control-label" for="subtask-4">',s+="Unificar las funciones de datos",s+="</label>",s+="</div>",s+='<div class="custom-control custom-checkbox mb-2">',s+='<input class="custom-control-input" type="checkbox" id="subtask-5" />',s+='<label class="custom-control-label" for="subtask-5">',s+="Unificar las estilos",s+="</label>",s+="</div>",s+="</div>",s+="</div>",s+="</div>",s+="</div>",s+=' <div class="col-xl-3 col-4">',s+='<h6 class="h6 text-uppercase">Etiquetas</h6>',s+='<div class="mb-4">';for(const t of foundCard.tags)s+=`<span class="badge badge-secondary bg-success">${t}</span>`;s+="</div>",s+='<h6 class="h6 text-uppercase">Acciones</h6>',s+='<button type="button" class="btn btn-primary btn-sm mb-2 w-100 text-left">',s+='<span class="fas fa-copy mr-2"></span>',s+="Duplicar",s+="</button>",s+='<button type="button" class="btn btn-primary btn-sm mb-2 w-100 text-left">',s+='<span class="fas fa-share-alt mr-2"></span>',s+="Mover",s+="</button>",s+='<button type="button" class="btn btn-primary btn-sm mb-2 w-100 text-left">',s+='<span class="fas fa-trash-alt mr-2"></span>',s+="Borrar",s+="</button>",s+="</div>",s+="</div>",s+="</div>",s+="</form>",s+="</div>",s+="</section>",t.innerHTML=s,listenModalItems()},handleBtn=()=>{newArticle.remove()},listenModalItems=()=>{document.querySelector(".js-edit-close").addEventListener("click",handleBtn)},listenCard=()=>{document.querySelectorAll(".js-card, .js-edit-close").forEach(t=>{t.addEventListener("click",handleCard)})};let data;const getData=()=>{fetch("../../api/board.json").then(t=>t.json()).then(t=>(data=t,console.log(data),paintList(),data))};fetch("../../api/board.json").then(t=>t.json()).then(t=>(data=t,console.log(data),paintList(),data));const getMain=document.querySelector(".js-main"),paintList=()=>{let t="";for(const s of data.board.list){t+='<div class="app-list">',t+=' <div class="p-1 rounded-sm bg-primary shadow">',t+=' <form class="app-list-form align-middle p-1 position-relative">',t+=` <input value='${s.title}' class="js-list app-list-input form-control form-control-sm" placeholder="Tareas importantes" type="text" title="Editar el título de la lista" />`,t+='<div class="app-list-options">',t+=' <span class="pl-2 pr-2 text-white-50 fas fa-ellipsis-v"></span>',t+=' <div class="app-list-btns btn-group btn-group-sm">',t+='<button type="button" class="btn btn-light text-muted border shadow-sm" title="Borrar esta tarjeta">',t+='<span class="fas fa-trash-alt"></span>',t+="</button>",t+='<button type="button" class="btn btn-light text-muted border shadow-sm app-list-move-left" title="Mover esta lista hacia la izquierda">',t+='<span class="fas fa-arrow-left"></span>',t+="</button>",t+='<button type="button" class="btn btn-light text-muted border shadow-sm app-list-move-right" title="Mover esta lista hacia la derecha">',t+='<span class="fas fa-arrow-right"></span>',t+="</button>",t+="</div>",t+="</div>",t+="</form>";for(const a of s.cards){t+=`<article id=${a.id} class="js-card app-card m-1 mb-2 p-2 bg-white rounded-sm app-cursor-pointer shadow-sm" title="Abrir la tarjeta">`,t+="<div>";for(const s of a.tags)t+=`<span class="badge badge-secondary bg-success">${s}</span>`;t+="</div>",t+="<div>",t+=`<h3 class="h6">${a.title}</h3>`,t+="</div>",t+='<div class="text-black-50">',t+='<small class="pr-2 fas fa-align-left"></small>',t+='<small class="far fa-check-square"></small>',t+='<small title="Subtareas completadas: 3 de 5">3/5</small>',t+="</div>",t+='<div class="app-card-btns btn-group-vertical btn-group-sm">',t+='<button type="button" class="btn btn-light text-muted border shadow-sm app-card-move-up" title="Mover esta tarjeta hacia abajo">',t+='<span class="fas fa-arrow-up"></span>',t+="</button>",t+='<button type="button" class="btn btn-light text-muted border shadow-sm app-card-move-down" title="Mover esta tarjeta hacia arriba">',t+='<span class="fas fa-arrow-down"></span>',t+="</button>",t+="</div>",t+="</article>"}t+="</div>",t+="</div>"}t+='<div>\n  <button type="button" class="btn btn-light btn-outline-primary btn-sm mr-5 shadow-sm" title="Añadir una nueva lista">\n    <span class="fas fa-plus"></span>\n  </button>\n</div>',getMain.innerHTML=t,document.querySelectorAll(".js-card, .js-edit-close").forEach(t=>{t.addEventListener("click",handleCard)})},toggleMenu=()=>{document.querySelector(".js-menu").classList.toggle("show")};document.querySelectorAll(".js-menu-btn").forEach(t=>{t.addEventListener("click",toggleMenu)});